"use strict";function field(a,b){this.domOBJ=b,this.regex=a,this.lastState=!1,this.timesActive=0,this.isValid=isValid,this.wasActive=wasActive}function wasActive(){return this.domOBJ==document.activeElement?(this.timesActive++,this.timesActive):this.timesActive}function isValid(){return this.regex.test(this.domOBJ.value)?!0:!1}function inlineValidate(a){!a.isValid()&&a.wasActive()>0?(a.domOBJ.className+=" invalid",a.lastState=!1):(a.domOBJ.className=a.domOBJ.className.replace(/(?:^|\s)invalid(?!\S)/g,""),a.lastState=!0)}function ajaxSubmitForm(a){document.getElementById(a).addEventListener("submit",function(b){var c=document.querySelectorAll(".alert-success"),d=document.querySelectorAll(".alert-invalid"),e=document.querySelectorAll(".invalid"),f=document.querySelectorAll(".required");b.preventDefault();var g=!0;for(var h in fields)fields[h].lastState===!1&&(g=!1);if(g===!0){var i=serialize(document.getElementById(a)),j=new XMLHttpRequest;j.open("POST","/",!0),j.setRequestHeader("Content-type","application/x-www-form-urlencoded"),j.onreadystatechange=function(){if(4==j.readyState&&200==j.status){for(var a=0;a<e.length;a++)e[a].className.replace(/(?:^|\s)invalid(?!\S)/g,"");for(var a=0;a<d.length;a++)d[a].style.display="none";for(var a=0;a<c.length;a++)c[a].style.display="block"}},j.send(i)}else{for(var k=0;k<d.length;k++)d[k].style.display="block";for(var k=0;k<f.length;k++)f[k].className+=" invalid"}})}function standardSubmitForm(a){document.getElementById(a).addEventListener("submit",function(a){var b=!0;for(var c in fields)fields[c].lastState===!1&&(a.preventDefault(),b=!1)})}var fields=new Object;fields.someName=new field(/[A-Za-z -']$/,document.getElementById("crystal-someName")),fields.email=new field("",document.getElementById("crystal-email")),fields.email.regex=/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/,fields.message=new field(/^(?!\s*$).+/,document.getElementById("crystal-message")),fields.spamcheck=new field(/^(?!\s*$).+/,document.getElementById("crystal-spamcheck")),fields.spamcheck={isValid:function(){return this.regex(this.domOBJ.value)?!1:!0},lastState:!0,wasActive:function(){return 1}};