"use strict";function field(a,b){this.domOBJ=b,this.regex=a,this.lastState=!1,this.timesActive=0,this.isValid=isValid,this.wasActive=wasActive}function wasActive(){return this.domOBJ==document.activeElement?(this.timesActive++,this.timesActive):this.timesActive}function isValid(){return this.regex.test(this.domOBJ.value)?!0:!1}function inlineValidate(a){!a.isValid()&&a.wasActive()>0?(a.domOBJ.className+=" invalid",a.lastState=!1):(a.domOBJ.className=a.domOBJ.className.replace(/(?:^|\s)invalid(?!\S)/g,""),a.lastState=!0)}function ajaxSubmitForm(a){$(a).submit(function(b){b.preventDefault();var c=!0;for(var d in fields)fields[d].lastState===!1&&(c=!1);if(c===!0){var e=$(a).serialize();$.ajax({url:"/",type:"POST",data:e,dataType:"json",error:function(a,b){alert(b+": ")},success:function(){$(".alert-invalid").hide(),$(".invalid").removeClass("invalid"),$(".alert-success").show()}})}else $(".alert-invalid").show(),$(".required").addClass("invalid")})}function standardSubmitForm(a){document.getElementById(a).addEventListener("submit",function(a){var b=!0;for(var c in fields)fields[c].lastState===!1&&(a.preventDefault(),b=!1)})}var fields=new Object;fields.someName=new field(/[A-Za-z -']$/,document.getElementById("chivalry-someName")),fields.email=new field("",document.getElementById("chivalry-email")),fields.email.regex=/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/,fields.message=new field(/^(?!\s*$).+/,document.getElementById("chivalry-message")),fields.spamcheck=new field(/^(?!\s*$).+/,document.getElementById("chivalry-spamCheck")),fields.spamcheck={isValid:function(){return this.regex(this.domOBJ.value)?!1:!0},lastState:!0,wasActive:function(){return 1}};